---
title: "Spatial logit model"
author: "Spencer Woody"
date: 2018-01-31
categories: ["Project", "Data Analysis", "R", "wip"]
tags: []
summary: Logit model with a spatial random effect from a Gaussian process, with application to business reopening in New Orleans after Hurricane Katrina
---

**This project is currently a WIP (work in progress)**

```{r setup, include=FALSE}
knitr::opts_chunk$set(collapse = TRUE)
```

## Introduction

Here I present a Bayesian spatial logit model for predicting business reopening in New Orleans after Hurricane Katrina (get the data [here](https://github.com/spencerwoody/site_build/tree/master/content/post/data)). The spatial random effect comes from a Gaussian process, and I use the Polya-Gamma data augmentation.

## Read in the data

```{r data, results='hide', message=F}
library(dplyr)
library(ggplot2)
theme_set(theme_bw(base_size = 12))
library(ggmap)

nola <- read.csv("data/nola.csv")
```

```{r makemap, results="hide", message=F, warning=F}
NOLAmap <- get_map(
    location = c(min(nola$lon), min(nola$lat), max(nola$lon), max(nola$lat)), 
    zoom = 13, 
    col = "bw")

storemap <- ggmap(NOLAmap) + 
	geom_point(data = nola, 
	           aes(x = lon, y = lat, col = factor(street)), alpha = 0.5) +
  scale_colour_brewer(name = "", 
                      labels = c("St Charles Ave", 
                                 "S Carrollton Ave", 
                                 "St Claude Ave"),
                      palette = "Set1") +
  labs(title = "Location of all stores in dataset") + 
  theme(legend.position="bottom")
```


## Plot the store locations

You can also embed plots. See Figure \@ref(fig:storemap) for example:

```{r storemap, fig.cap='A fancy `ggmap`', tidy=FALSE}
storemap
```
